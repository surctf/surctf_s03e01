# godra_2
Честно, лень расписывать.  
Кратко. В сервисе использовалась ORM - gorm, в ней связи между отношениями в БД объявляются с помощью тэгов Go структур или использования специльных типов внутри структур, в сервисе же связи обеспечивались с помощью логики в коде и делалось это плохо. Оказывается при покупке(метод BuyProduct), валидация того куплен ли уже товар происходила так: сначала из бд брались все товары купленные юзером НО по юзернейму, это создавало логическую ошибку из-за которой можно было, удалив аккаунт, и зарегистрировав новый с другим юзернеймом, купить один и тот же товар несколько раз.  
Вот так прокручиваете, покупаете 20 товаров и получаете флаг на странцие колаба.

`flag: surctf_godra_x_surctf_c0lab_0f_th3_dec4de`
